<form [formGroup]="recipeForm" (ngSubmit)="submitForm()">
  <div class="row mb-1">
    <div class="col">
      <button
        class="btn btn-success m-1 text-light"
        type="submit"
        [disabled]="recipeForm.invalid"
      >
        Save
      </button>
      <button
        class="btn btn-danger m-1"
        type="button"
        (click)="cancelChanges()"
      >
        Cancel
      </button>
    </div>
  </div>
  <div class="row mb-1">
    <div class="col">
      <label for="recipeNameInput" class="form-label">Recipe Name</label>
      <input
        type="text"
        class="form-control"
        id="recipeNameInput"
        formControlName="name"
        placeholder="Enter Recipe Name here...."
      />
    </div>
  </div>
  <div class="row mb-1">
    <div class="col">
      <label for="imagePathInput" class="form-label">Image URL</label>
      <input
        type="text"
        class="form-control"
        id="imagePathInput"
        formControlName="imagePath"
        placeholder="https://yourimage.url"
        #imagePath
      />
    </div>
  </div>
  <div class="row mb-1">
    <div class="row">
      <label class="form-label">Image Preview</label>
    </div>
    <div class="row">
      <img [src]="imagePath.value" class="img-fluid rounded" />
    </div>
  </div>
  <div class="row mb-1">
    <div class="col">
      <label for="recipeDescriptionInput" class="form-label"
        >Recipe Description</label
      >
      <textarea
        type="text"
        class="form-control"
        id="recipeDescriptionInput"
        formControlName="description"
        placeholder="What is this recipe?"
        rows="6"
      ></textarea>
    </div>
  </div>
  <div class="row mb-1" formArrayName="ingredients">
    <div class="col">
      <div class="row mb-1">
        <div class="col-8">
          <label class="form-label">Ingredient Name</label>
        </div>
        <div class="col-2">
          <label class="form-label">Amount</label>
        </div>
        <div class="col-2">
          <button
            class="btn btn-success text-light"
            type="button"
            (click)="addIndredientControls()"
          >
            +
          </button>
        </div>
      </div>
      <div
        class="row mb-1"
        *ngFor="let ingredient of ingredientControls; let i = index"
        [formGroupName]="i"
      >
        <div class="col-8">
          <input
            type="text"
            class="form-control"
            id="ingredientNameInput"
            formControlName="name"
            placeholder="Enter Ingredient Name here...."
          />
        </div>
        <div class="col-2">
          <input
            type="number"
            class="form-control"
            formControlName="amount"
            id="ingredientAmountInput"
          />
        </div>
        <div class="col-2">
          <button
            class="btn btn-danger"
            type="button"
            (click)="deleteIngredient(i)"
          >
            X
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
